(function(ne,d,C,At,r){"use strict";function Ct(t){return t&&typeof t=="object"&&"default"in t?t:{default:t}}var bt=Ct(At);const St=t=>`
  color: white;
  font-weight: bold;
  border-radius:4px; 
  padding: 0px 6px 0px 6px;
  background-color: ${Nt[t]}; 
`,vt="color: #fafafa; font-weight: 700;",Nt={info:"#7289da",warn:"#debf18",error:"red"};class Z{static parse(e,s){console[e]("%cCumcord%c [Sperm Bank]:",St(e),vt,...s)}static info(...e){this.parse("info",e)}static warn(...e){this.parse("warn",e)}static error(...e){this.parse("error",e)}}function B(t){return Array.isArray?Array.isArray(t):je(t)==="[object Array]"}const It=1/0;function kt(t){if(typeof t=="string")return t;let e=t+"";return e=="0"&&1/t==-It?"-0":e}function Lt(t){return t==null?"":kt(t)}function w(t){return typeof t=="string"}function Fe(t){return typeof t=="number"}function Bt(t){return t===!0||t===!1||wt(t)&&je(t)=="[object Boolean]"}function $e(t){return typeof t=="object"}function wt(t){return $e(t)&&t!==null}function b(t){return t!=null}function ge(t){return!t.trim().length}function je(t){return t==null?t===void 0?"[object Undefined]":"[object Null]":Object.prototype.toString.call(t)}const ss="Extended search is not available",Tt="Incorrect 'index' type",Dt=t=>`Invalid value for key ${t}`,Pt=t=>`Pattern length exceeds max of ${t}.`,_t=t=>`Missing ${t} property in key`,Ot=t=>`Property 'weight' in key '${t}' must be a positive integer`,He=Object.prototype.hasOwnProperty;class zt{constructor(e){this._keys=[],this._keyMap={};let s=0;e.forEach(n=>{let a=Ge(n);s+=a.weight,this._keys.push(a),this._keyMap[a.id]=a,s+=a.weight}),this._keys.forEach(n=>{n.weight/=s})}get(e){return this._keyMap[e]}keys(){return this._keys}toJSON(){return JSON.stringify(this._keys)}}function Ge(t){let e=null,s=null,n=null,a=1;if(w(t)||B(t))n=t,e=Ue(t),s=Re(t);else{if(!He.call(t,"name"))throw new Error(_t("name"));const c=t.name;if(n=c,He.call(t,"weight")&&(a=t.weight,a<=0))throw new Error(Ot(c));e=Ue(c),s=Re(c)}return{path:e,id:s,weight:a,src:n}}function Ue(t){return B(t)?t:t.split(".")}function Re(t){return B(t)?t.join("."):t}function Ft(t,e){let s=[],n=!1;const a=(c,i,o)=>{if(!!b(c))if(!i[o])s.push(c);else{let u=i[o];const l=c[u];if(!b(l))return;if(o===i.length-1&&(w(l)||Fe(l)||Bt(l)))s.push(Lt(l));else if(B(l)){n=!0;for(let h=0,p=l.length;h<p;h+=1)a(l[h],i,o+1)}else i.length&&a(l,i,o+1)}};return a(t,w(e)?e.split("."):e,0),n?s:s[0]}var g={...{isCaseSensitive:!1,includeScore:!1,keys:[],shouldSort:!0,sortFn:(t,e)=>t.score===e.score?t.idx<e.idx?-1:1:t.score<e.score?-1:1},...{includeMatches:!1,findAllMatches:!1,minMatchCharLength:1},...{location:0,threshold:.6,distance:100},...{useExtendedSearch:!1,getFn:Ft,ignoreLocation:!1,ignoreFieldNorm:!1,fieldNormWeight:1}};const $t=/[^ ]+/g;function jt(t=1,e=3){const s=new Map,n=Math.pow(10,e);return{get(a){const c=a.match($t).length;if(s.has(c))return s.get(c);const i=1/Math.pow(c,.5*t),o=parseFloat(Math.round(i*n)/n);return s.set(c,o),o},clear(){s.clear()}}}class Ee{constructor({getFn:e=g.getFn,fieldNormWeight:s=g.fieldNormWeight}={}){this.norm=jt(s,3),this.getFn=e,this.isCreated=!1,this.setIndexRecords()}setSources(e=[]){this.docs=e}setIndexRecords(e=[]){this.records=e}setKeys(e=[]){this.keys=e,this._keysMap={},e.forEach((s,n)=>{this._keysMap[s.id]=n})}create(){this.isCreated||!this.docs.length||(this.isCreated=!0,w(this.docs[0])?this.docs.forEach((e,s)=>{this._addString(e,s)}):this.docs.forEach((e,s)=>{this._addObject(e,s)}),this.norm.clear())}add(e){const s=this.size();w(e)?this._addString(e,s):this._addObject(e,s)}removeAt(e){this.records.splice(e,1);for(let s=e,n=this.size();s<n;s+=1)this.records[s].i-=1}getValueForItemAtKeyId(e,s){return e[this._keysMap[s]]}size(){return this.records.length}_addString(e,s){if(!b(e)||ge(e))return;let n={v:e,i:s,n:this.norm.get(e)};this.records.push(n)}_addObject(e,s){let n={i:s,$:{}};this.keys.forEach((a,c)=>{let i=this.getFn(e,a.path);if(!!b(i)){if(B(i)){let o=[];const u=[{nestedArrIndex:-1,value:i}];for(;u.length;){const{nestedArrIndex:l,value:h}=u.pop();if(!!b(h))if(w(h)&&!ge(h)){let p={v:h,i:l,n:this.norm.get(h)};o.push(p)}else B(h)&&h.forEach((p,f)=>{u.push({nestedArrIndex:f,value:p})})}n.$[c]=o}else if(!ge(i)){let o={v:i,n:this.norm.get(i)};n.$[c]=o}}}),this.records.push(n)}toJSON(){return{keys:this.keys,records:this.records}}}function Ke(t,e,{getFn:s=g.getFn,fieldNormWeight:n=g.fieldNormWeight}={}){const a=new Ee({getFn:s,fieldNormWeight:n});return a.setKeys(t.map(Ge)),a.setSources(e),a.create(),a}function Ht(t,{getFn:e=g.getFn,fieldNormWeight:s=g.fieldNormWeight}={}){const{keys:n,records:a}=t,c=new Ee({getFn:e,fieldNormWeight:s});return c.setKeys(n),c.setIndexRecords(a),c}function ae(t,{errors:e=0,currentLocation:s=0,expectedLocation:n=0,distance:a=g.distance,ignoreLocation:c=g.ignoreLocation}={}){const i=e/t.length;if(c)return i;const o=Math.abs(n-s);return a?i+o/a:o?1:i}function Gt(t=[],e=g.minMatchCharLength){let s=[],n=-1,a=-1,c=0;for(let i=t.length;c<i;c+=1){let o=t[c];o&&n===-1?n=c:!o&&n!==-1&&(a=c-1,a-n+1>=e&&s.push([n,a]),n=-1)}return t[c-1]&&c-n>=e&&s.push([n,c-1]),s}const $=32;function Ut(t,e,s,{location:n=g.location,distance:a=g.distance,threshold:c=g.threshold,findAllMatches:i=g.findAllMatches,minMatchCharLength:o=g.minMatchCharLength,includeMatches:u=g.includeMatches,ignoreLocation:l=g.ignoreLocation}={}){if(e.length>$)throw new Error(Pt($));const h=e.length,p=t.length,f=Math.max(0,Math.min(n,p));let y=c,E=f;const A=o>1||u,K=A?Array(p):[];let D;for(;(D=t.indexOf(e,E))>-1;){let v=ae(e,{currentLocation:D,expectedLocation:f,distance:a,ignoreLocation:l});if(y=Math.min(v,y),E=D+h,A){let z=0;for(;z<h;)K[D+z]=1,z+=1}}E=-1;let Q=[],W=1,pe=h+p;const rs=1<<h-1;for(let v=0;v<h;v+=1){let z=0,F=pe;for(;z<F;)ae(e,{errors:v,currentLocation:f+F,expectedLocation:f,distance:a,ignoreLocation:l})<=y?z=F:pe=F,F=Math.floor((pe-z)/2+z);pe=F;let Mt=Math.max(1,f-F+1),ze=i?p:Math.min(f+F,p)+h,X=Array(ze+2);X[ze+1]=(1<<v)-1;for(let I=ze;I>=Mt;I-=1){let fe=I-1,xt=s[t.charAt(fe)];if(A&&(K[fe]=+!!xt),X[I]=(X[I+1]<<1|1)&xt,v&&(X[I]|=(Q[I+1]|Q[I])<<1|1|Q[I+1]),X[I]&rs&&(W=ae(e,{errors:v,currentLocation:fe,expectedLocation:f,distance:a,ignoreLocation:l}),W<=y)){if(y=W,E=fe,E<=f)break;Mt=Math.max(1,2*f-E)}}if(ae(e,{errors:v+1,currentLocation:f,expectedLocation:f,distance:a,ignoreLocation:l})>y)break;Q=X}const Oe={isMatch:E>=0,score:Math.max(.001,W)};if(A){const v=Gt(K,o);v.length?u&&(Oe.indices=v):Oe.isMatch=!1}return Oe}function Kt(t){let e={};for(let s=0,n=t.length;s<n;s+=1){const a=t.charAt(s);e[a]=(e[a]||0)|1<<n-s-1}return e}class We{constructor(e,{location:s=g.location,threshold:n=g.threshold,distance:a=g.distance,includeMatches:c=g.includeMatches,findAllMatches:i=g.findAllMatches,minMatchCharLength:o=g.minMatchCharLength,isCaseSensitive:u=g.isCaseSensitive,ignoreLocation:l=g.ignoreLocation}={}){if(this.options={location:s,threshold:n,distance:a,includeMatches:c,findAllMatches:i,minMatchCharLength:o,isCaseSensitive:u,ignoreLocation:l},this.pattern=u?e:e.toLowerCase(),this.chunks=[],!this.pattern.length)return;const h=(f,y)=>{this.chunks.push({pattern:f,alphabet:Kt(f),startIndex:y})},p=this.pattern.length;if(p>$){let f=0;const y=p%$,E=p-y;for(;f<E;)h(this.pattern.substr(f,$),f),f+=$;if(y){const A=p-$;h(this.pattern.substr(A),A)}}else h(this.pattern,0)}searchIn(e){const{isCaseSensitive:s,includeMatches:n}=this.options;if(s||(e=e.toLowerCase()),this.pattern===e){let E={isMatch:!0,score:0};return n&&(E.indices=[[0,e.length-1]]),E}const{location:a,distance:c,threshold:i,findAllMatches:o,minMatchCharLength:u,ignoreLocation:l}=this.options;let h=[],p=0,f=!1;this.chunks.forEach(({pattern:E,alphabet:A,startIndex:K})=>{const{isMatch:D,score:Q,indices:W}=Ut(e,E,A,{location:a+K,distance:c,threshold:i,findAllMatches:o,minMatchCharLength:u,includeMatches:n,ignoreLocation:l});D&&(f=!0),p+=Q,D&&W&&(h=[...h,...W])});let y={isMatch:f,score:f?p/this.chunks.length:1};return f&&n&&(y.indices=h),y}}class P{constructor(e){this.pattern=e}static isMultiMatch(e){return Ve(e,this.multiRegex)}static isSingleMatch(e){return Ve(e,this.singleRegex)}search(){}}function Ve(t,e){const s=t.match(e);return s?s[1]:null}class Wt extends P{constructor(e){super(e)}static get type(){return"exact"}static get multiRegex(){return/^="(.*)"$/}static get singleRegex(){return/^=(.*)$/}search(e){const s=e===this.pattern;return{isMatch:s,score:s?0:1,indices:[0,this.pattern.length-1]}}}class Vt extends P{constructor(e){super(e)}static get type(){return"inverse-exact"}static get multiRegex(){return/^!"(.*)"$/}static get singleRegex(){return/^!(.*)$/}search(e){const n=e.indexOf(this.pattern)===-1;return{isMatch:n,score:n?0:1,indices:[0,e.length-1]}}}class Jt extends P{constructor(e){super(e)}static get type(){return"prefix-exact"}static get multiRegex(){return/^\^"(.*)"$/}static get singleRegex(){return/^\^(.*)$/}search(e){const s=e.startsWith(this.pattern);return{isMatch:s,score:s?0:1,indices:[0,this.pattern.length-1]}}}class Yt extends P{constructor(e){super(e)}static get type(){return"inverse-prefix-exact"}static get multiRegex(){return/^!\^"(.*)"$/}static get singleRegex(){return/^!\^(.*)$/}search(e){const s=!e.startsWith(this.pattern);return{isMatch:s,score:s?0:1,indices:[0,e.length-1]}}}class Qt extends P{constructor(e){super(e)}static get type(){return"suffix-exact"}static get multiRegex(){return/^"(.*)"\$$/}static get singleRegex(){return/^(.*)\$$/}search(e){const s=e.endsWith(this.pattern);return{isMatch:s,score:s?0:1,indices:[e.length-this.pattern.length,e.length-1]}}}class Xt extends P{constructor(e){super(e)}static get type(){return"inverse-suffix-exact"}static get multiRegex(){return/^!"(.*)"\$$/}static get singleRegex(){return/^!(.*)\$$/}search(e){const s=!e.endsWith(this.pattern);return{isMatch:s,score:s?0:1,indices:[0,e.length-1]}}}class Je extends P{constructor(e,{location:s=g.location,threshold:n=g.threshold,distance:a=g.distance,includeMatches:c=g.includeMatches,findAllMatches:i=g.findAllMatches,minMatchCharLength:o=g.minMatchCharLength,isCaseSensitive:u=g.isCaseSensitive,ignoreLocation:l=g.ignoreLocation}={}){super(e);this._bitapSearch=new We(e,{location:s,threshold:n,distance:a,includeMatches:c,findAllMatches:i,minMatchCharLength:o,isCaseSensitive:u,ignoreLocation:l})}static get type(){return"fuzzy"}static get multiRegex(){return/^"(.*)"$/}static get singleRegex(){return/^(.*)$/}search(e){return this._bitapSearch.searchIn(e)}}class Ye extends P{constructor(e){super(e)}static get type(){return"include"}static get multiRegex(){return/^'"(.*)"$/}static get singleRegex(){return/^'(.*)$/}search(e){let s=0,n;const a=[],c=this.pattern.length;for(;(n=e.indexOf(this.pattern,s))>-1;)s=n+c,a.push([n,s-1]);const i=!!a.length;return{isMatch:i,score:i?0:1,indices:a}}}const ye=[Wt,Ye,Jt,Yt,Xt,Qt,Vt,Je],Qe=ye.length,Zt=/ +(?=([^\"]*\"[^\"]*\")*[^\"]*$)/,qt="|";function er(t,e={}){return t.split(qt).map(s=>{let n=s.trim().split(Zt).filter(c=>c&&!!c.trim()),a=[];for(let c=0,i=n.length;c<i;c+=1){const o=n[c];let u=!1,l=-1;for(;!u&&++l<Qe;){const h=ye[l];let p=h.isMultiMatch(o);p&&(a.push(new h(p,e)),u=!0)}if(!u)for(l=-1;++l<Qe;){const h=ye[l];let p=h.isSingleMatch(o);if(p){a.push(new h(p,e));break}}}return a})}const tr=new Set([Je.type,Ye.type]);class rr{constructor(e,{isCaseSensitive:s=g.isCaseSensitive,includeMatches:n=g.includeMatches,minMatchCharLength:a=g.minMatchCharLength,ignoreLocation:c=g.ignoreLocation,findAllMatches:i=g.findAllMatches,location:o=g.location,threshold:u=g.threshold,distance:l=g.distance}={}){this.query=null,this.options={isCaseSensitive:s,includeMatches:n,minMatchCharLength:a,findAllMatches:i,ignoreLocation:c,location:o,threshold:u,distance:l},this.pattern=s?e:e.toLowerCase(),this.query=er(this.pattern,this.options)}static condition(e,s){return s.useExtendedSearch}searchIn(e){const s=this.query;if(!s)return{isMatch:!1,score:1};const{includeMatches:n,isCaseSensitive:a}=this.options;e=a?e:e.toLowerCase();let c=0,i=[],o=0;for(let u=0,l=s.length;u<l;u+=1){const h=s[u];i.length=0,c=0;for(let p=0,f=h.length;p<f;p+=1){const y=h[p],{isMatch:E,indices:A,score:K}=y.search(e);if(E){if(c+=1,o+=K,n){const D=y.constructor.type;tr.has(D)?i=[...i,...A]:i.push(A)}}else{o=0,c=0,i.length=0;break}}if(c){let p={isMatch:!0,score:o/c};return n&&(p.indices=i),p}}return{isMatch:!1,score:1}}}const me=[];function sr(...t){me.push(...t)}function Me(t,e){for(let s=0,n=me.length;s<n;s+=1){let a=me[s];if(a.condition(t,e))return new a(t,e)}return new We(t,e)}const ce={AND:"$and",OR:"$or"},xe={PATH:"$path",PATTERN:"$val"},Ae=t=>!!(t[ce.AND]||t[ce.OR]),nr=t=>!!t[xe.PATH],ar=t=>!B(t)&&$e(t)&&!Ae(t),Xe=t=>({[ce.AND]:Object.keys(t).map(e=>({[e]:t[e]}))});function Ze(t,e,{auto:s=!0}={}){const n=a=>{let c=Object.keys(a);const i=nr(a);if(!i&&c.length>1&&!Ae(a))return n(Xe(a));if(ar(a)){const u=i?a[xe.PATH]:c[0],l=i?a[xe.PATTERN]:a[u];if(!w(l))throw new Error(Dt(u));const h={keyId:Re(u),pattern:l};return s&&(h.searcher=Me(l,e)),h}let o={children:[],operator:c[0]};return c.forEach(u=>{const l=a[u];B(l)&&l.forEach(h=>{o.children.push(n(h))})}),o};return Ae(t)||(t=Xe(t)),n(t)}function cr(t,{ignoreFieldNorm:e=g.ignoreFieldNorm}){t.forEach(s=>{let n=1;s.matches.forEach(({key:a,norm:c,score:i})=>{const o=a?a.weight:null;n*=Math.pow(i===0&&o?Number.EPSILON:i,(o||1)*(e?1:c))}),s.score=n})}function ir(t,e){const s=t.matches;e.matches=[],!!b(s)&&s.forEach(n=>{if(!b(n.indices)||!n.indices.length)return;const{indices:a,value:c}=n;let i={indices:a,value:c};n.key&&(i.key=n.key.src),n.idx>-1&&(i.refIndex=n.idx),e.matches.push(i)})}function or(t,e){e.score=t.score}function lr(t,e,{includeMatches:s=g.includeMatches,includeScore:n=g.includeScore}={}){const a=[];return s&&a.push(ir),n&&a.push(or),t.map(c=>{const{idx:i}=c,o={item:e[i],refIndex:i};return a.length&&a.forEach(u=>{u(c,o)}),o})}class V{constructor(e,s={},n){this.options={...g,...s},this.options.useExtendedSearch,this._keyStore=new zt(this.options.keys),this.setCollection(e,n)}setCollection(e,s){if(this._docs=e,s&&!(s instanceof Ee))throw new Error(Tt);this._myIndex=s||Ke(this.options.keys,this._docs,{getFn:this.options.getFn,fieldNormWeight:this.options.fieldNormWeight})}add(e){!b(e)||(this._docs.push(e),this._myIndex.add(e))}remove(e=()=>!1){const s=[];for(let n=0,a=this._docs.length;n<a;n+=1){const c=this._docs[n];e(c,n)&&(this.removeAt(n),n-=1,a-=1,s.push(c))}return s}removeAt(e){this._docs.splice(e,1),this._myIndex.removeAt(e)}getIndex(){return this._myIndex}search(e,{limit:s=-1}={}){const{includeMatches:n,includeScore:a,shouldSort:c,sortFn:i,ignoreFieldNorm:o}=this.options;let u=w(e)?w(this._docs[0])?this._searchStringList(e):this._searchObjectList(e):this._searchLogical(e);return cr(u,{ignoreFieldNorm:o}),c&&u.sort(i),Fe(s)&&s>-1&&(u=u.slice(0,s)),lr(u,this._docs,{includeMatches:n,includeScore:a})}_searchStringList(e){const s=Me(e,this.options),{records:n}=this._myIndex,a=[];return n.forEach(({v:c,i,n:o})=>{if(!b(c))return;const{isMatch:u,score:l,indices:h}=s.searchIn(c);u&&a.push({item:c,idx:i,matches:[{score:l,value:c,norm:o,indices:h}]})}),a}_searchLogical(e){const s=Ze(e,this.options),n=(o,u,l)=>{if(!o.children){const{keyId:p,searcher:f}=o,y=this._findMatches({key:this._keyStore.get(p),value:this._myIndex.getValueForItemAtKeyId(u,p),searcher:f});return y&&y.length?[{idx:l,item:u,matches:y}]:[]}const h=[];for(let p=0,f=o.children.length;p<f;p+=1){const y=o.children[p],E=n(y,u,l);if(E.length)h.push(...E);else if(o.operator===ce.AND)return[]}return h},a=this._myIndex.records,c={},i=[];return a.forEach(({$:o,i:u})=>{if(b(o)){let l=n(s,o,u);l.length&&(c[u]||(c[u]={idx:u,item:o,matches:[]},i.push(c[u])),l.forEach(({matches:h})=>{c[u].matches.push(...h)}))}}),i}_searchObjectList(e){const s=Me(e,this.options),{keys:n,records:a}=this._myIndex,c=[];return a.forEach(({$:i,i:o})=>{if(!b(i))return;let u=[];n.forEach((l,h)=>{u.push(...this._findMatches({key:l,value:i[h],searcher:s}))}),u.length&&c.push({idx:o,item:i,matches:u})}),c}_findMatches({key:e,value:s,searcher:n}){if(!b(s))return[];let a=[];if(B(s))s.forEach(({v:c,i,n:o})=>{if(!b(c))return;const{isMatch:u,score:l,indices:h}=n.searchIn(c);u&&a.push({score:l,key:e,value:c,idx:i,norm:o,indices:h})});else{const{v:c,n:i}=s,{isMatch:o,score:u,indices:l}=n.searchIn(c);o&&a.push({score:u,key:e,value:c,norm:i,indices:l})}return a}}V.version="6.5.3",V.createIndex=Ke,V.parseIndex=Ht,V.config=g,V.parseQuery=Ze,sr(rr);var S;const{findInReactTree:j,copyText:Ce}=bt.default,qe={...d.findByProps("showToast"),...d.findByProps("createToast")},ur=(S=class{static _join(t,e){return e.map(s=>`${t?`${t}-`:""}${Array.isArray(s)?s.join("-"):s}`).join(" ")}},S.join=(...t)=>S._join("",t),S.pjoin=(...t)=>`sperm-bank-${S._join("",t)}`,S.cjoin=t=>(...e)=>S._join(`sperm-bank-${t}`,e),S.callArgs=(...t)=>t.forEach(e=>e?.()),S.sleep=t=>new Promise(e=>setTimeout(e,t)),S.fuzzySearch=(t,e)=>{if(!e||e==="")return t;const s={threshold:.5,keys:["content","author.username","embeds.rawTitle","embeds.author.name","embeds.footer.text","embeds.rawDescription"].map(a=>`props.sperm.${a}`)};return new V(t,s).search(e).map(a=>a.item)},S.showToast=(t,e)=>{const s=e===void 0?0:e?1:2;qe.showToast(qe.createToast(t,s))},S),be=(t,e)=>{C.persist.ghost.options??={};const[s,n]=React.useState(C.persist.ghost.options[t]||e);return[s,c=>{typeof c=="function"&&(c=c(s)),C.persist.ghost.options[t]=c,n(c)}]},{join:et,pjoin:x,cjoin:dr,sleep:hr,callArgs:Se,showToast:ve,fuzzySearch:pr}=ur;var J;(function(t){t[t.AVATARS=0]="AVATARS",t[t.USERS=1]="USERS",t[t.MESSAGES=2]="MESSAGES",t[t.ALL=3]="ALL"})(J||(J={}));const tt=class{static fetchAccounts(...t){const e={...C.persist.ghost.sperms};for(let s of t)delete e[s];return Object.keys(e??{}).length?e:{Cummies:{}}}static fetchFirstAccount(){return Object.keys(this.fetchAccounts())?.[0]}static deposit(t,e){let s=this.fetchAccounts();const{message:n,channel:a}=e,c={id:n.id,channel_id:a.id,guild_id:a.guild_id,content:n.content,author:{id:n.author.id,avatar:n.author.avatar,discriminator:n.author.discriminator,username:n.author.username},timestamp:n.timestamp,attachments:n.attachments,embeds:n.embeds,reactions:n.reactions};return Object.assign(s[t],{[n.id]:c}),C.persist.ghost.sperms=s}static withdraw(t,e){let s=this.fetchAccounts();return delete s[t][e],C.persist.ghost.sperms=s}static transfer(t,e,s){let n=this.fetchAccounts();return delete n[t][s.id],Object.assign(n[e],{[s.id]:s}),C.persist.ghost.sperms=n}static openAccount(t){let e=this.fetchAccounts();return Object.assign(e,{[t]:{}}),C.persist.ghost.sperms=e}static closeAccount(t){let e=this.fetchAccounts();return delete e[t],C.persist.ghost.sperms=e}static renameAccount(t,e){let s=this.fetchAccounts();const n=Object.keys(s).indexOf(t);return Object.assign(s,{[e]:s[t]}),delete s[t],C.persist.ghost.sperms=s,this.moveAccount(e,n)}static moveAccount(t,e){let s=this.fetchAccounts(),n=Object.keys(s).map(a=>{if(a!==t)return[a,s[a]]}).filter(Boolean);return n.splice(e,0,[t,s[t]]),C.persist.ghost.sperms=Object.fromEntries(n)}static parseHolyNotes(t){let e=this.fetchAccounts(),s=JSON.parse(t);return Object.keys(s).forEach(n=>{e[n]??={},Object.assign(e[n],s[n])}),C.persist.ghost.sperms=e}static async refresh(t){let e=this.fetchAccounts();const s=d.findByProps("getUser").getUser,n=d.findByProps("getCurrentUser","getUser").getUser,a=d.findByProps("getMessage","getMessages").getMessage,c=d.findByProps("sendMessage").fetchMessages,i=async p=>{const f=await s(p);if(!!f)return await hr(600),f},o=(p,f)=>({channelId:p,jump:{messageId:f},limit:1}),u=async(p,f)=>(await c(o(p,f)),await new Promise(y=>{const E=()=>{r.FluxDispatcher.unsubscribe("LOAD_MESSAGES_SUCCESS",E),r.FluxDispatcher.unsubscribe("LOAD_MESSAGES_FAILURE",E),y()};r.FluxDispatcher.subscribe("LOAD_MESSAGES_SUCCESS",E),r.FluxDispatcher.subscribe("LOAD_MESSAGES_FAILURE",E),setTimeout(y,2e3)}),a(p,f)),l=async p=>{for(const f in e)for(const y in e[f]){const E=e[f][y],A=n(E.author.id)??await i(E.author.id);if(!A)return;Object.assign(e[f][y].author,{avatar:A.avatar,username:p?E.author.username:A.username,discriminator:p?E.author.discriminator:A.discriminator})}},h=async()=>{for(const p in e)for(const f in e[p]){const y=e[p][f],E=a(y.channel_id,y.id)??await u(y.channel_id,y.id);if(!E)return;Object.assign(e[p][f],{embeds:E.embeds,content:E.content,reactions:E.reactions,attachments:E.attachments})}};switch(t){case 0:await l(!0);break;case 1:await l();break;case 2:await h();break;case 3:await h(),await l()}return C.persist.ghost.sperms=e}};let M=tt;M.parsePersonalPins=(t,e)=>{let s=tt.fetchAccounts();s[t]??={};const n=JSON.parse(e).notes;for(const a in n)for(const c in n[a])for(const i in n[a][c]){const o=JSON.parse(n[a][c][i].message);Object.assign(s[t],{[o.id]:{id:o.id,channel_id:c,guild_id:a,content:o.content,author:{id:o.author.id,avatar:o.author.avatar,discriminator:o.author.discriminator,username:o.author.username},timestamp:o.timestamp,attachments:o.attachments,embeds:o.embeds,reactions:o.reactions}})}return C.persist.ghost.sperms=s};const Y=d.findByProps("ModalCloseButton"),Ne=d.findByProps("AdvancedScrollerThin"),q=d.findByProps("MenuGroup","MenuItem"),R=Y.ModalRoot;Object.assign(R,{Sizes:Y.ModalSize,Header:Y.ModalHeader,Footer:Y.ModalFooter,Content:Y.ModalContent,CloseButton:Y.ModalCloseButton});const m=q.default;Object.assign(m,{Item:q.MenuItem,Group:q.MenuGroup,Separator:q.MenuSeparator,ControlItem:q.MenuControlItem});const H=Ne.AdvancedScrollerThin;Object.assign(H,{Hide:Ne.AdvancedScrollerNone,Orientations:Ne.default?.Sizes||{HORIZONTAL:"horizontal",VERTICAL:"vertical"}});var fr=()=>cumcord.patcher.injectCSS(".sperm-bank-search{flex:auto;margin-right:15px;margin-bottom:6px;background-color:var(--background-tertiary);border:solid 2px var(--background-secondary)}.sperm-bank-sperm-render{margin-top:8px;padding-top:4px;margin-bottom:8px;padding-bottom:4px}.sperm-bank-header{margin-bottom:10px;padding:16px 16px 10px}.sperm-bank-header-menu{font-size:12px;font-weight:600;font-family:var(--font-display);line-height:16px;text-transform:uppercase;padding:5px 0 5px 5px}.sperm-bank-header-main{padding-top:15px;padding-left:10px;padding-bottom:0;background-color:var(--background-tertiary);box-shadow:0 1px 0 0 var(--background-tertiary),0 1px 2px 0 var(--background-tertiary)!important}.sperm-bank-heading{max-width:110px;margin-right:0;padding-bottom:6px;transform:scale(.85)}.sperm-bank-tabbar{margin:0;border-bottom:0;padding:10px 20px 0}.sperm-bank-tabbar-item{font-size:14px}.sperm-bank-tabbar-container{background-color:var(--background-tertiary);border-bottom:2px solid var(--background-modifier-accent)}.sperm-bank-close-button{margin-bottom:4px}.sperm-bank-flex{overflow:hidden}.sperm-bank-flex-help-icon{width:17px;opacity:.5;cursor:pointer;padding-left:0;margin:0 14px 6px 0;color:var(--interactive-normal);transition:opacity .2s ease-in-out}.sperm-bank-flex-help-icon:hover{opacity:1}.sperm-bank-import-root{width:45vw}.sperm-bank-import-container{display:flex;background-color:var(--background-tertiary);padding:0!important;overflow:hidden!important}.sperm-bank-import-item{width:100%;height:100%;display:flex;flex-wrap:wrap}.sperm-bank-import-item:hover{cursor:pointer;background-color:#3b3b3b66}.sperm-bank-import-text{flex-basis:100%;margin-top:10px;text-align:center}.sperm-bank-import-text:hover{cursor:pointer}.sperm-bank-import-icon{flex-basis:100%;align-self:flex-end;color:var(--header-secondary)}.sperm-bank-help-markdown{margin-top:6px}.sperm-bank-help-markdown hr{border:0;height:2px;margin:12px 0 16px;background-color:var(--background-modifier-accent)}.sperm-bank-error{height:264px;border-radius:12px;background-color:var(--background-tertiary)}.sperm-bank-popover-icon{margin-bottom:4px}.sperm-bank-refresh-button-container{padding-left:8px}.sperm-bank-refresh-button-container>div>div>div{display:flex;place-items:center}.sperm-bank-refresh-button-container:active>div>div>div{transform:translate(-1px)}.sperm-bank-refresh-button-icon{margin-right:5px}"),Ie=r.React.memo(t=>r.React.createElement("svg",{viewBox:"0 0 24 24",...t},r.React.createElement("path",{fill:"none",d:"M0 0h24v24H0V0z"}),r.React.createElement("path",{fill:"currentColor",d:"M6.5 10h-2v7h2v-7zm6 0h-2v7h2v-7zm8.5 9H2v2h19v-2zm-2.5-9h-2v7h2v-7zm-7-6.74L16.71 6H6.29l5.21-2.74m0-2.26L2 6v2h19V6l-9.5-5z"}))),gr=r.React.memo(t=>r.React.createElement("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 2000 2000",...t},r.React.createElement("path",{fill:"currentColor",d:"M1402.2,631.7c-9.7-353.4-286.2-496-642.6-496H68.4v714.1l442,398V490.7h257c274.5,0,274.5,344.9,0,344.9H597.6v329.5h169.8c274.5,0,274.5,344.8,0,344.8h-699v354.9h691.2c356.3,0,632.8-142.6,642.6-496c0-162.6-44.5-284.1-122.9-368.6C1357.7,915.8,1402.2,794.3,1402.2,631.7z"}),r.React.createElement("path",{fill:"currentColor",d:"M1262.5,135.2L1262.5,135.2l-76.8,0c26.6,13.3,51.7,28.1,75,44.3c70.7,49.1,126.1,111.5,164.6,185.3c39.9,76.6,61.5,165.6,64.3,264.6l0,1.2v1.2c0,141.1,0,596.1,0,737.1v1.2l0,1.2c-2.7,99-24.3,188-64.3,264.6c-38.5,73.8-93.8,136.2-164.6,185.3c-22.6,15.7-46.9,30.1-72.6,43.1h72.5c346.2,1.9,671-171.2,671-567.9V716.7C1933.5,312.2,1608.7,135.2,1262.5,135.2z"}))),Rr=r.React.memo(t=>r.React.createElement("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 447 447",...t},r.React.createElement("path",{fill:"currentColor",d:"M221,117.1l-33.8-33.8l70-70c9.3-9.3,24.5-9.3,33.8,0l0,0c9.3,9.3,9.3,24.5,0,33.8L221,117.1L221,117.1z"}),r.React.createElement("path",{fill:"currentColor",d:"M312.7,208.8L278.9,175l70-70c9.3-9.3,24.5-9.3,33.8,0l0,0c9.3,9.3,9.3,24.5,0,33.8L312.7,208.8L312.7,208.8z"}),r.React.createElement("path",{fill:"currentColor",d:"M303,257L138.9,92.9c-2.7-2.7-2.7-7,0-9.7L163,59.1c2.7-2.7,7-2.7,9.7,0l164.1,164.1c2.7,2.7,2.7,7,0,9.7 L312.7,257C310,259.7,305.7,259.7,303,257z M153.4,88.1l154.5,154.5l14.5-14.5L167.9,73.6L153.4,88.1z"}),r.React.createElement("path",{fill:"currentColor",d:"M161.2,327.6l-92.9-92.9c-14.3-14.3-14.3-37.6,0-51.9l85.1-85.1l144.8,144.8l-85.1,85.1 C198.8,342,175.5,342,161.2,327.6z"}),r.React.createElement("path",{fill:"currentColor",d:"M156.4,332.4l-92.9-92.9c-17-17-17-44.6,0-61.6l85.1-85.1c2.7-2.7,7-2.7,9.7,0L303,237.7c2.7,2.7,2.7,7,0,9.7 L218,332.4C201,349.4,173.3,349.4,156.4,332.4z M153.4,107.4l-80.2,80.2c-11.7,11.7-11.7,30.6,0,42.3l92.9,92.9 c11.7,11.7,30.6,11.7,42.3,0l80.2-80.2L153.4,107.4z"}),r.React.createElement("path",{fill:"currentColor",d:"M95.4,329.5l-29-29c-2.7-2.7-2.7-7,0-9.7l29-29c2.7-2.7,7-2.7,9.7,0l29,29c2.7,2.7,2.7,7,0,9.7l-29,29 C102.4,332.1,98.1,332.1,95.4,329.5z M81,295.7l19.3,19.3l19.3-19.3l-19.3-19.3L81,295.7z"}),r.React.createElement("path",{fill:"currentColor",d:"M143.7,445.3L81,382.6c-21.3-21.3-21.3-55.9,0-77.2c2.7-2.7,7-2.7,9.7,0c2.7,2.7,2.7,7,0,9.7 c-16,16-16,42,0,57.9l62.8,62.8c2.7,2.7,2.7,7,0,9.7S146.4,448,143.7,445.3z"}),r.React.createElement("path",{fill:"currentColor",transform:"rotate(-45.001 237.859 158.089)",d:"M220.8 42H254.9V274.1H220.8z"}),r.React.createElement("path",{fill:"currentColor",transform:"rotate(-45.001 100.275 295.663)",d:"M79.8 275.2H120.8V316.2H79.8z"})));const Er=d.findByDisplayName("Divider"),rt=d.findByDisplayName("TextArea"),k=d.find(t=>t.DropdownSizes),_=d.findByDisplayName("FormTitle"),yr=d.findByDisplayName("TextInput"),st=d.findByProps("openModal","openModalLazy"),N=dr("import");var mr=({event:t})=>{const[e,s]=r.React.useState("PersonalPins"),n={event:t,account:e,setAccount:s};return r.React.createElement(R,{transitionState:t.transitionState,size:R.Sizes.MEDIUM,className:N("root")},r.React.createElement(R.Content,{className:N("container")},r.React.createElement("div",{className:N("item"),onClick:()=>{st.openModal(a=>r.React.createElement(xr,{nevent:a,...n}))}},r.React.createElement(gr,{className:N("icon"),height:48,width:48}),r.React.createElement(_,{className:N("text")},"Import from PersonalPins")),r.React.createElement("div",{className:N("item"),onClick:()=>{st.openModal(a=>r.React.createElement(Mr,{nevent:a,...n}))}},r.React.createElement(Rr,{className:N("icon"),height:48,width:48}),r.React.createElement(_,{className:N("text")},"Import from Holy Notes")),r.React.createElement("div",{className:N("item"),onClick:()=>{Ce(JSON.stringify(M.fetchAccounts())),ve("JSON was copied to your clipboard!",!0)}},r.React.createElement(Ie,{className:N("icon"),height:48,width:48}),r.React.createElement(_,{className:N("text")},"Export Sperm Bank JSON"))))};const Mr=({event:t,nevent:e})=>{const[s,n]=r.React.useState(""),a=()=>Se(t.onClose,e.onClose);return r.React.createElement(R,{transitionState:e.transitionState,size:R.Sizes.LARGE},r.React.createElement(R.Header,{className:x("header")},r.React.createElement(_,{tag:"h3"},"Holy Notes"),r.React.createElement(R.CloseButton,{onClick:a})),r.React.createElement(R.Content,null,r.React.createElement(_,null,'Input the text from your "notes.json" file located at:',r.React.createElement("br",null),r.React.createElement("br",null),'"$INSTALLDIR$\\powercord\\src\\Powercord\\plugins\\holy-notes\\NotesHandler\\notes.json"'),r.React.createElement(H,{fade:!0},r.React.createElement(rt,{rows:7,value:s,autosize:!0,autofocus:!0,resizeable:!1,onChange:n,placeholder:["{",'  "Main": {','    "891086774879805452": {','      "id": "891086774879805452",','      "channel_id": "824921608560181261",','      "guild_id": "824921608560181258",','      "content": "rape",'].join(`
`)}))),r.React.createElement(R.Footer,null,r.React.createElement(k,{color:k.Colors.GREEN,onClick:()=>{try{M.parseHolyNotes(s)}catch(c){Z.error("Fucky wucky:",c),ve("shit uhh something went wrong, open the console for more details",!1)}a()}},"Parse Data"),r.React.createElement(k,{onClick:a,look:k.Looks.LINK,color:k.Colors.TRANSPARENT},"Cancel")))},xr=({event:t,nevent:e,account:s,setAccount:n})=>{const[a,c]=r.React.useState(""),i=()=>Se(t.onClose,e.onClose);return r.React.createElement(R,{transitionState:e.transitionState,size:R.Sizes.LARGE},r.React.createElement(R.Header,{className:x("header")},r.React.createElement(_,{tag:"h3"},"PersonalPins"),r.React.createElement(R.CloseButton,{onClick:i})),r.React.createElement(R.Content,null,r.React.createElement(_,null,'Input the text from your "PersonalPins.config.json" file located in your BD Plugins folder.'),r.React.createElement(H,{fade:!0},r.React.createElement(rt,{rows:7,value:a,autosize:!0,autofocus:!0,resizeable:!1,onChange:c,placeholder:["{",'  "choices": {','  "defaultFilter": "channel",','  "defaultOrder": "ascending",','  "defaultSort": "notetime"',"  },",'  "notes": {'].join(`
`)})),r.React.createElement("div",{style:{marginTop:"20px"}}),r.React.createElement(Er,null),r.React.createElement(_,null,"Add to/open Account"),r.React.createElement(yr,{hideBorder:!0,onChange:n,defaultValue:"PersonalPins",style:{marginBottom:"10px"},note:"You can add the notes to pre-existing accounts!"}),r.React.createElement("div",{style:{marginTop:"20px"}})),r.React.createElement(R.Footer,null,r.React.createElement(k,{color:k.Colors.GREEN,onClick:()=>{try{M.parsePersonalPins(s,a)}catch(o){Z.error("Fucky wucky:",o),ve("shit uhh something went wrong, open the console for more details",!1)}i()}},"Parse Data"),r.React.createElement(k,{look:k.Looks.LINK,color:k.Colors.TRANSPARENT,onClick:i},"Cancel")))},ie=d.findByDisplayName("Popout"),nt=d.findByDisplayName("Caret"),Ar=d.findByProps("colorStatusGreen"),G=d.findByDisplayName("FormText"),U=d.find(t=>t.DropdownSizes),O=d.findByDisplayName("FormTitle"),Cr=d.findByProps("openModal","openModalLazy"),br=t=>{switch(t){case"...":return"bro chill i said i'm working on it";case"bro chill i said i'm working on it":return"u deaf?? i said im working on it god dam";case"u deaf?? i said im working on it god dam":return"this is harrassment.";case"this is harrassment.":return"please stop im running out of cases in this switch statement";default:return"null"}};var Sr=({event:t})=>{const[e,s]=r.React.useState("Refresh Things"),n=async a=>{if(e!=="Refresh Things")return s(br(e));s("..."),await M.refresh(a),t.onClose(),s("Refresh Things")};return r.React.createElement(R,{transitionState:t.transitionState,size:R.Sizes.MEDIUM},r.React.createElement(R.Header,{className:x("header")},r.React.createElement(O,{tag:"h3"},"help for dumbasses (not rly i love u guys ","<","333)"),r.React.createElement(R.CloseButton,{onClick:t.onClose})),r.React.createElement(R.Content,null,r.React.createElement(H,{fade:!0},r.React.createElement("div",{className:x("help-markdown")},r.React.createElement(O,null,"how add sperm"),r.React.createElement(G,{type:"description"},"option 1: hold shift and click on funny bank button",r.React.createElement("br",null),'option 2: right click on a message then hover over the "deposit message" item, then use ur monkey brain to figure out the rest',r.React.createElement("br",null),r.React.createElement("br",null),r.React.createElement("span",{style:{fontWeight:"bold"},className:Ar.colorStatusGreen},"protip!!!! (be gineus):"),' clicking the "deposit message" button by itself will note to ur first account',r.React.createElement("br",null),r.React.createElement("br",null),r.React.createElement("img",{src:"https://i.imgur.com/HLCbFA4.png"}),r.React.createElement("br",null),r.React.createElement("img",{src:"https://i.imgur.com/BFAfBK2.png"})),r.React.createElement("hr",null),r.React.createElement(O,null,"how do i remove a cummy??"),r.React.createElement(G,{type:"description"},'you can either right click the sperm and hit "delete note" or you can hold the "DELETE" (yes its all caps its screeming at u!!) key on your keyboard and click on a sperm and it will go bye bye',r.React.createElement("br",null),r.React.createElement("br",null),r.React.createElement("img",{src:"https://i.imgur.com/zjNfSxh.png"})),r.React.createElement("hr",null),r.React.createElement(O,null,"how do i move sperm to another account"),r.React.createElement(G,{type:"description"},'right click on the sperm and hover over the "move note" item, then use ur monkey brain to figure out the rest',r.React.createElement("br",null),r.React.createElement("br",null),r.React.createElement("img",{src:"https://i.imgur.com/Qx8DkQR.png"})),r.React.createElement("hr",null),r.React.createElement(O,null,"help i made a bajillion accounts!!! how do i scroll??????"),r.React.createElement(G,{type:"description"},"hold shift and scroll and itll scroll back and forth",r.React.createElement("br",null),r.React.createElement("br",null),"if ur on a laptop just like use ur two fingers and scroll right or whatever the fuck you guys do",r.React.createElement("br",null),r.React.createElement("br",null),r.React.createElement("img",{src:"https://i.imgur.com/iklWwdC.gif"})),r.React.createElement("hr",null),r.React.createElement(O,null,"how do i delte accoun?"),r.React.createElement(G,{type:"description"},"right click on it and hit close account or hold delete and click on it",r.React.createElement("br",null),r.React.createElement("br",null),r.React.createElement("img",{src:"https://i.imgur.com/COIDqix.png"})),r.React.createElement("hr",null),r.React.createElement(O,null,"how do i move accoun?"),r.React.createElement(G,{type:"description",style:{marginBottom:"14px"}},"using state of the art programming and copying straight from react-dnds example page you can drag and drop ur accounts with ur finger and brain",r.React.createElement("br",null),r.React.createElement("br",null),r.React.createElement("img",{src:"https://i.imgur.com/4eo5wum.gif"})),r.React.createElement("hr",null),r.React.createElement(O,null,"Why are you talking like a 4 year old? im not 4?"),r.React.createElement(G,{type:"description",style:{marginBottom:"14px"}},"yes you are shut up")))),r.React.createElement(R.Footer,null,r.React.createElement(U,{onClick:()=>Cr.openModal(a=>r.React.createElement(mr,{event:a}))},"Import Sperms"),r.React.createElement(U,{onClick:t.onClose,look:U.Looks.LINK,color:U.Colors.TRANSPARENT},"Cancel"),r.React.createElement("div",{style:{flex:"auto"}}),r.React.createElement(ie,{spacing:12,align:ie.Align.BOTTOM,position:ie.Positions.LEFT,animation:ie.Animation.TRANSLATE,renderPopout:a=>r.React.createElement(m,{onClose:a.closePopout},r.React.createElement(m.ControlItem,{id:"refresh-header",control:()=>r.React.createElement("h5",{className:x(["header","menu"])},"Refresh Options:")}),r.React.createElement(m.Separator,{key:"separator"}),r.React.createElement(m.Item,{label:"Refresh Avatars",id:"RA",action:()=>n(J.AVATARS)}),r.React.createElement(m.Item,{label:"Refresh Users (+ Avatars)",id:"RUA",action:()=>n(J.USERS)}),r.React.createElement(m.Item,{label:"Refresh Messages",id:"RM",action:()=>n(J.MESSAGES)}),r.React.createElement(m.Item,{label:"Refresh All",id:"RAA",action:()=>n(J.ALL)}))},a=>r.React.createElement(U,{...a,look:U.Looks.GHOST,color:U.Colors.GREEN,className:x(["refresh","button","container"])},r.React.createElement(nt,{width:"24",height:"24",direction:nt.Directions.LEFT,className:x(["refresh","button","icon"])}),e))))};const ee=d.findByProps("DropdownSizes"),at=d.findByDisplayName("FormTitle"),vr=d.findByDisplayName("TextInput");var ct=({event:t,action:e,options:s})=>{const[n,a]=r.React.useState(s?.initialInput||""),c=r.React.useRef(),i=u=>{c.current=u,a(u)},o=u=>{u.key==="Enter"&&(e(c.current),t.onClose())};return r.React.useEffect(()=>(document.addEventListener("keydown",o),()=>document.removeEventListener("keydown",o)),[]),r.React.createElement(R,{transitionState:t.transitionState,size:R.Sizes.SMALL},r.React.createElement(R.Header,null,r.React.createElement(at,{tag:"h3"},s?.titleText||"Input Modal"),r.React.createElement(R.CloseButton,{onClick:t.onClose})),r.React.createElement("div",{style:{marginTop:"10px"}}),r.React.createElement(R.Content,null,r.React.createElement(at,null,s?.headerText||"Input Text"),r.React.createElement(vr,{value:n,hideBorder:!0,onChange:i,placeholder:s?.placeholder||"rape LMAO",style:{marginBottom:"10px"}})),r.React.createElement(R.Footer,null,r.React.createElement(ee,{onClick:()=>{e(n),t.onClose()},color:ee.Colors.GREEN},s?.buttonText||"Submit"),r.React.createElement(ee,{onClick:t.onClose,look:ee.Looks.LINK,color:ee.Colors.TRANSPARENT},"Cancel")))};const T=d.findByProps("emptyResultsWrap");var it=({noEasterEgg:t})=>!t&&Math.floor(Math.random()*100)<=10?r.React.createElement("div",{className:T.emptyResultsWrap},r.React.createElement("div",{className:T.emptyResultsContent,style:{paddingBottom:"0px"}},r.React.createElement("div",{className:et(T.noResultsImage,T.alt)}),r.React.createElement("div",{className:T.emptyResultsText},"this account is empty also look at this picture of a bannana i found in discord's code"))):r.React.createElement("div",{className:T.emptyResultsWrap},r.React.createElement("div",{className:T.emptyResultsContent,style:{paddingBottom:"0px"}},r.React.createElement("div",{className:T.noResultsImage}),r.React.createElement("div",{className:T.emptyResultsText},"No sperms were found in this account.")));const oe=d.findByProps("emptyResultsWrap");class Nr extends r.React.Component{constructor(e){super(e);this.state={error:!1}}static getDerivedStateFromError(e){return Z.error("There was an error parsing this sperm! Please report this error to Swishilicous#3200!!",e),{error:!0}}render(){return this.state.error?r.React.createElement("div",{className:x("error",oe.emptyResultsWrap)},r.React.createElement("div",{className:oe.emptyResultsContent,style:{paddingBottom:"0px"}},r.React.createElement("div",{className:oe.errorImage}),r.React.createElement("div",{className:oe.emptyResultsText},"There was an error parsing this sperm! The issue was logged in your console, press CTRL + I to access it!"))):this.props.children}}var Ir=({each:t,fallback:e,children:s})=>{if(!t?.length)return e??r.React.createElement(r.React.Fragment,null);let n=[];for(let a=0;a<t.length;a++)n[a]=s(t[a],a);return r.React.createElement(r.React.Fragment,null,n)};const ke=({each:t,exec:e,fallback:s})=>{if(!t?.length)return s??r.React.createElement(r.React.Fragment,null);let n=[];for(let a=0;a<t.length;a++)n[a]=e(t[a],a);return n},Le=d.findByProps("cozyMessage"),kr=d.find(t=>t.prototype?.tag),Lr=d.find(t=>t.prototype?.getGuildId),Br=d.findByProps("transitionTo").transitionTo,ot=d.findByProps("openContextMenuLazy"),lt=d.find(t=>t.prototype?.toDate&&t.prototype.month),wr=d.find(t=>t.type?.displayName==="ChannelMessage"),Tr=d.find(t=>t.prototype?.getReaction&&t.prototype.isSystemDM);var ut=({sperm:t,account:e,updateParent:s,fromDeleteModal:n,closeModal:a})=>{const c=r.React.useRef(!1);return r.React.useEffect(()=>{const i=o=>o.key==="Delete"&&(c.current=o.type==="keydown");return document.addEventListener("keydown",i),document.addEventListener("keyup",i),()=>{document.removeEventListener("keydown",i),document.removeEventListener("keyup",i)}},[]),r.React.createElement(Nr,null,r.React.createElement(wr,{className:x("sperm-render",Le.message,Le.groupStart,Le.cozyMessage),message:new Tr(Object.assign({...t},{author:new kr({...t.author}),timestamp:new lt(new Date(t.timestamp)),embeds:t.embeds.map(i=>i.timestamp?Object.assign(i,{timestamp:new lt(new Date(i.timestamp))}):i)})),channel:new Lr({id:"sperm-bank"}),onClick:()=>{c.current&&!n&&(M.withdraw(e,t.id),s())},onContextMenu:i=>{if(!n)return ot.openContextMenu(i,()=>r.React.createElement(Dr,{sperm:t,account:e,closeModal:a,updateParent:s}))}}))};const Dr=({sperm:t,account:e,updateParent:s,closeModal:n})=>{const a=M.fetchAccounts(e);return r.React.createElement(m,{onClose:ot.closeContextMenu},r.React.createElement(m.Item,{label:"Jump to Message",id:"jump",action:()=>{Br(`/channels/${t.guild_id??"@me"}/${t.channel_id}/${t.id}`),n()}}),r.React.createElement(m.Item,{label:"Copy Text",id:"ctext",action:()=>Ce(t.content)}),r.React.createElement(m.Item,{color:"colorDanger",label:"Delete Note",id:"delete",action:()=>{M.withdraw(e,t.id),s()}}),Object.keys(a).length>0?r.React.createElement(m.Item,{label:"Move Sperm",id:"move"},ke({each:Object.keys(a),exec:c=>r.React.createElement(m.Item,{label:`Move to ${c}`,id:`move-${c}`,action:()=>{M.transfer(e,c,t),s()}})})):null,r.React.createElement(m.Item,{label:"Copy ID",id:"cid",action:()=>Ce(t.id)}))},te=d.findByProps("DropdownSizes"),Pr=d.findByDisplayName("FormTitle");var Be=({event:t,account:e,setAccount:s})=>{const n=M.fetchAccounts()[e];return r.React.createElement(R,{transitionState:t.transitionState,size:R.Sizes.LARGE},r.React.createElement(R.Header,null,r.React.createElement(Pr,{tag:"h3"},"You want to delete these spermies?? :(("),r.React.createElement(R.CloseButton,{onClick:t.onClose})),r.React.createElement(R.Content,null,r.React.createElement(H,{fade:!0},r.React.createElement(Ir,{each:Object.keys(n||{}),fallback:r.React.createElement(it,{noEasterEgg:!0})},a=>r.React.createElement(ut,{fromDeleteModal:!0,account:e,sperm:n[a]})))),r.React.createElement(R.Footer,null,r.React.createElement(te,{color:te.Colors.RED,onClick:()=>{t.onClose(),M.closeAccount(e),s(M.fetchFirstAccount())}},"Close Account"),r.React.createElement(te,{onClick:t.onClose,look:te.Looks.LINK,color:te.Colors.TRANSPARENT},"Cancel")))};const we=d.findByDisplayName("TabBar"),dt=d.findByProps("openContextMenuLazy"),Te=d.findByProps("openModal","openModalLazy"),{useDrag:_r,useDrop:Or}=d.findByProps("DropTarget","useDrop"),le={...d.findByProps("tabBarContainer"),...d.findByProps("topPill","selected")};var zr=({accounts:t,currentAccount:e,setCurrentAccount:s,updateParent:n})=>r.React.createElement(H.Hide,{orientation:H.Orientations.HORIZONTAL,className:x(["tabbar","container"],le.tabBarContainer)},r.React.createElement(we,{type:we.Types.TOP,className:x("tabbar",le.tabBar)},ke({each:Object.keys(t),exec:(a,c)=>r.React.createElement(Fr,{index:c,account:a,updateParent:n,currentAccount:e,setCurrentAccount:s})})));const ht="SPERMBANK_TABITEM",Fr=({index:t,account:e,currentAccount:s,setCurrentAccount:n,updateParent:a})=>{const c=r.React.useRef(!1);r.React.useEffect(()=>{const l=h=>h.key==="Delete"&&(c.current=h.type==="keydown");return document.addEventListener("keydown",l),document.addEventListener("keyup",l),()=>{document.removeEventListener("keydown",l),document.removeEventListener("keyup",l)}},[]);const i=Or({accept:ht,hover({account:l}){l!==e&&(M.moveAccount(l,t),a())}})[1],o=_r({type:ht,item:{account:e}})[1],u=e!==s||le.selected;return r.React.createElement(we.Item,{id:!1,onClick:()=>{if(c.current)return Te.openModal(l=>r.React.createElement(Be,{event:l,account:e,setAccount:n}));n(e)},clickableRef:l=>o(i(l?.ref||null)),className:x("tabbar-item",le.tabBarItem,u),onContextMenu:l=>$r({event:l,account:e,setCurrentAccount:n})},e)},$r=({event:t,account:e,setCurrentAccount:s})=>{dt.openContextMenu(t,()=>r.React.createElement(m,{onClose:dt.closeContextMenu},r.React.createElement(m.Item,{label:"Rename Account",id:"rename",action:()=>{Te.openModal(n=>r.React.createElement(ct,{event:n,action:a=>{M.renameAccount(e,a),s(a)},options:{initialInput:e,buttonText:"Rename Account",placeholder:"Swish being horny >:c",headerText:"BLAH BLAH BLAH enter below pls",titleText:"Rename Account (interest won't apply)"}}))}}),r.React.createElement(m.Item,{color:"colorDanger",label:"Close Account",id:"close",action:()=>{Te.openModal(n=>r.React.createElement(Be,{event:n,account:e,setAccount:s}))}})))},ue=d.findByDisplayName("Flex"),pt=d.findByDisplayName("Text"),de=d.findByDisplayName("Popout"),re=d.findByProps("quickSelectArrow"),he=d.find(t=>t.DropdownSizes),ft=d.findByProps("openModal","openModalLazy"),jr=t=>t.account===M.fetchFirstAccount()?r.React.createElement(he,{color:he.Colors.GREEN,onClick:()=>ft.openModal(e=>r.React.createElement(ct,{event:e,options:{headerText:"Input Below!",buttonText:"Open Account",placeholder:"Swish being cute c:",titleText:"Open Account (interest will apply)"},action:s=>{M.openAccount(s),t.setAccount(s)}}))},"Open Account"):r.React.createElement(he,{color:he.Colors.RED,onClick:()=>ft.openModal(e=>r.React.createElement(Be,{event:e,...t}))},"Close Account"),Hr=t=>{switch(t){case L.DA:return"Date Added";case L.MD:return"Message Date";case L.DAR:return"Date Added (Reversed)";case L.MDR:return"Date Added (Reversed)"}},Gr=({sortType:t,setSortType:e})=>r.React.createElement("div",{style:{display:"flex",flex:"auto"}},r.React.createElement(ue,{align:ue.Align.CENTER,className:re.quickSelect},r.React.createElement(pt,{className:re.quickSelectLabel},"Change Sorting:"),r.React.createElement(de,{spacing:12,align:de.Align.RIGHT,position:de.Positions.BOTTOM,animation:de.Animation.SCALE,renderPopout:s=>r.React.createElement(m,{onClose:s.closePopout},r.React.createElement(m.ControlItem,{id:"sort-header",control:()=>r.React.createElement("h5",{className:x(["header","menu"])},"Sort Type:")}),r.React.createElement(m.Separator,{key:"separator"}),r.React.createElement(m.Item,{label:"Date Added",id:"DA",action:()=>e(L.DA)}),r.React.createElement(m.Item,{label:"Message Date",id:"MD",action:()=>e(L.MD)}),r.React.createElement(m.Item,{label:"Date Added (Reversed)",id:"DAR",action:()=>e(L.DAR)}),r.React.createElement(m.Item,{label:"Message Date (Reversed)",id:"MDR",action:()=>e(L.MDR)}))},s=>r.React.createElement(ue,{...s,grow:0,align:ue.Align.CENTER,className:re.quickSelectClick},r.React.createElement(pt,{className:re.quickSelectValue},Hr(t)),r.React.createElement("div",{className:re.quickSelectArrow})))),r.React.createElement("div",null)),gt=d.findByDisplayName("Flex"),Rt=d.findByProps("tabBarContainer"),De=d.find(t=>t.DropdownSizes),Ur=d.findByDisplayName("FormTitle"),Kr=d.findByDisplayName("HelpCircle"),Wr=d.findByProps("openModal","openModalLazy"),Et=d.find(t=>t.defaultProps?.useKeyboardNavigation);var L;(function(t){t[t.DA=0]="DA",t[t.MD=1]="MD",t[t.DAR=2]="DAR",t[t.MDR=3]="MDR"})(L||(L={}));var Vr=({event:t})=>{const[e,s]=be("sortType",0),[n,a]=be("searchInput",""),[c,i]=be("selectedAccount",M.fetchFirstAccount()),o=r.React.useState(0)[1],u=M.fetchAccounts();return r.React.createElement(R,{transitionState:t.transitionState,className:"bank",size:R.Sizes.LARGE,style:{borderRadius:"8px"}},r.React.createElement(gt,{className:x("flex"),direction:gt.Direction.VERTICAL,style:{width:"100%"}},r.React.createElement("div",{className:Rt.topSectionNormal},r.React.createElement(R.Header,{className:x(["header","main"],Rt.header)},r.React.createElement(Ur,{tag:"h4",className:x("heading")},"SPERM BANK"),r.React.createElement(Kr,{className:x(["flex","help","icon"]),name:"HelpCircle",onClick:()=>Wr.openModal(l=>r.React.createElement(Sr,{event:l}))}),r.React.createElement(Et,{autofocus:!1,query:n,placeholder:"Search",className:x("search"),size:Et.Sizes.MEDIUM,onClear:()=>a(""),onQueryChange:l=>a(l)}),r.React.createElement(R.CloseButton,{className:x(["close","button"]),onClick:t.onClose})),r.React.createElement(zr,{accounts:u,currentAccount:c,setCurrentAccount:i,updateParent:()=>o(l=>~l)})),r.React.createElement(R.Content,null,r.React.createElement(Jr,{sortType:e,account:c,searchInput:n,closeModal:t.onClose,sperms:u[c],updateParent:()=>o(l=>~l)}))),r.React.createElement(R.Footer,null,r.React.createElement(jr,{account:c,setAccount:i}),r.React.createElement(De,{onClick:t.onClose,look:De.Looks.LINK,color:De.Colors.TRANSPARENT,style:{paddingLeft:"5px",paddingRight:"10px"}},"Cancel"),r.React.createElement(Gr,{sortType:e,setSortType:s})))};const Jr=({sperms:t,account:e,updateParent:s,sortType:n,searchInput:a,closeModal:c})=>{let i=ke({fallback:r.React.createElement(it,null),each:Object.keys(t||{}),exec:o=>r.React.createElement(ut,{account:e,sperm:t[o],closeModal:c,updateParent:s})});return Array.isArray(i)&&(a.trim()!==""&&(i=pr(i,a.trim())),(n===1||n===3)&&(i=i.sort((o,u)=>new Date(u.props.sperm.timestamp).getTime()-new Date(o.props.sperm.timestamp).getTime())),n!==2&&n!==3&&i.reverse()),r.React.createElement(r.React.Fragment,null,i)},{TooltipContainer:yt}=d.findByProps("TooltipContainer"),{openModal:Yr}=d.findByProps("openModal","openModalLazy"),Qr=d.findByProps("icon","isHeader"),Pe=d.findByProps("iconWrapper","clickable"),mt=d.findByDisplayName("MiniPopover",!1),Xr=d.findByDisplayName("HeaderBarContainer");let se=[];const Zr=()=>ne.after("render",Xr.prototype,(t,e)=>{const s=j(e,n=>Array.isArray(n.toolbar?.props?.children));if(!s)return Z.warn("Could not patch HeaderBar icons!");j(s.toolbar,n=>n?.props?.id==="sperm")||s.toolbar.props.children.splice(3,0,r.React.createElement(yt,{text:"Sperm Bank",position:"bottom",id:"sperm",className:et(Pe.iconWrapper,Pe.clickable)},r.React.createElement(Ie,{width:24,height:24,className:Pe.icon,onClick:()=>Yr(n=>r.React.createElement(Vr,{event:n}))})))}),qr=()=>ne.findAndPatch(()=>d.findByDisplayName("MessageContextMenu",!1),t=>ne.after("default",t,(e,s)=>{const n=j(s,a=>Array.isArray(a?.children));if(!n)return Z.warn("Could not patch MessageContextMenu!");j(s,a=>a?.props?.id=="sperm")||n.children.splice(4,0,r.React.createElement(m.Group,null,r.React.createElement(m.Item,{id:"sperm",label:"Deposit Message",action:()=>M.deposit(M.fetchFirstAccount(),e[0])},Object.keys(M.fetchAccounts()).map(a=>r.React.createElement(m.Item,{label:`Deposit to ${a}`,id:a,action:()=>{M.deposit(a,e[0])}})))))})),es=()=>ne.after("default",mt,(t,e)=>{!j(e,s=>s?.expanded)?.expanded||j(e,s=>s?.props?.id=="sperm")||e?.props?.children?.unshift(r.React.createElement(yt,{id:"sperm",position:"top",text:`Note to ${M.fetchFirstAccount()}`},r.React.createElement(mt.Button,{onClick:()=>{const s=j(t,n=>n?.message&&n.channel);!s||M.deposit(M.fetchFirstAccount(),s)},className:x(["popover","icon"],Qr.icon)},r.React.createElement(Ie,{width:24,height:24}))))});let _e=window;var ts=()=>({onLoad(){_e.React||(_e.React=d.findByProps("createElement","useEffect")),se.push(fr()),se.push(es()),se.push(Zr()),se.push(qr()),_e.Receptionist=M},onUnload(){Se(...se)}});return ts})(cumcord.patcher,cumcord.modules.webpack,cumcord.pluginData,cumcord.utils,cumcord.modules.common);
